{"openapi":"3.0.1","info":{"title":"Drive API","version":"v1.0"},"servers":[{"url":"https://localhost:8080"}],"paths":{"/api/drive/files/{fileId}/comments/{commentId}":{"get":{"tags":["comment-controller"],"operationId":"getComment","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CommentGetDto"}}}}}},"put":{"tags":["comment-controller"],"operationId":"updateComment","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["comment-controller"],"operationId":"deleteComment","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/comments/{commentId}/replies/{replyId}":{"put":{"tags":["comment-controller"],"operationId":"updateReply","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}},{"name":"replyId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["comment-controller"],"operationId":"deleteReply","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}},{"name":"replyId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/drive/files/update/{fileId}":{"put":{"tags":["file-controller"],"description":"Update file","operationId":"updateFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK"}}}},"/api/drive/sync":{"get":{"tags":["sync-controller"],"operationId":"listPaths","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SyncGetDto"}}}}}},"post":{"tags":["sync-controller"],"operationId":"addFolderPaths","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncChangeDto"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["sync-controller"],"operationId":"removeFolderPaths","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SyncChangeDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/permissions/revoke/{permissionId}":{"post":{"tags":["permission-controller"],"operationId":"revokePermission","parameters":[{"name":"permissionId","in":"path","required":true,"schema":{"type":"string"}},{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/permissions/add":{"post":{"tags":["permission-controller"],"operationId":"addPermission","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionAddDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/comments":{"get":{"tags":["comment-controller"],"operationId":"getComments","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CommentGetDto"}}}}}}},"post":{"tags":["comment-controller"],"operationId":"addComment","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/comments/{commentId}/replies":{"post":{"tags":["comment-controller"],"operationId":"addComment_1","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"commentId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommentDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/upload":{"post":{"tags":["file-controller"],"description":"Upload files","operationId":"uploadFiles","parameters":[{"name":"files","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}},{"name":"targetFolderId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/drive/files/untrash":{"post":{"tags":["trash-controller"],"description":"Remove files from trash","operationId":"untrashFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/trash":{"post":{"tags":["trash-controller"],"description":"Add files to trash","operationId":"trashFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["trash-controller"],"description":"Delete all files from trash","operationId":"emptyTrash","responses":{"200":{"description":"OK"}}}},"/api/drive/files/delete":{"post":{"tags":["file-controller"],"description":"Delete files completely","operationId":"deleteFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/create/folder":{"post":{"tags":["file-controller"],"description":"Create folder","operationId":"createFolder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FolderDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/permissions/update/{permissionId}":{"patch":{"tags":["permission-controller"],"operationId":"updatePermission","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}},{"name":"permissionId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionUpdateDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/sign-in":{"get":{"tags":["user-controller"],"operationId":"googleSignIn","responses":{"200":{"description":"OK"}}}},"/api/drive/oauth":{"get":{"tags":["user-controller"],"operationId":"saveAuthorizationCode","responses":{"200":{"description":"OK"}}}},"/api/drive/files":{"get":{"tags":["file-controller"],"description":"View all files in drive","operationId":"listFiles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GoogleFileDto"}}}}}}}},"/api/drive/files/{fileId}/revisions":{"get":{"tags":["change-controller"],"operationId":"listFileRevisions","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RevisionDto"}}}}}}}},"/api/drive/files/get/{fileId}":{"get":{"tags":["file-controller"],"description":"Get basic info about file","operationId":"getFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GoogleFileShortDto"}}}}}}},"/api/drive/files/download/{fileId}":{"get":{"tags":["file-controller"],"description":"Download selected file","operationId":"downloadFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/octet-stream":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/drive/about":{"get":{"tags":["user-controller"],"operationId":"getAboutInfo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AboutDto"}}}}}}}},"components":{"schemas":{"CommentDto":{"type":"object","properties":{"content":{"type":"string"}}},"SyncChangeDto":{"type":"object","properties":{"path":{"type":"string"}}},"PermissionAddDto":{"type":"object","properties":{"role":{"type":"string","enum":["organizer","fileOrganizer","writer","commenter","reader"]},"type":{"type":"string","enum":["user","group","domain","anyone"]},"emailAddressOrDomain":{"type":"string"}}},"FolderDto":{"type":"object","properties":{"targetFolderId":{"type":"string"},"folderName":{"type":"string"}}},"PermissionUpdateDto":{"type":"object","properties":{"role":{"type":"string","enum":["organizer","fileOrganizer","writer","commenter","reader"]}}},"SyncGetDto":{"type":"object","properties":{"paths":{"type":"array","items":{"type":"string"}}}},"GoogleFileDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"modifiedTime":{"type":"string","format":"date-time"},"permissions":{"type":"array","items":{"type":"object"}},"trashed":{"type":"boolean"},"size":{"type":"integer","format":"int64"},"parents":{"type":"array","items":{"type":"string"}}}},"RevisionDto":{"type":"object","properties":{"id":{"type":"string"},"lastModifyingUser":{"type":"object"},"mimeType":{"type":"string"},"modifiedTime":{"type":"string","format":"date-time"},"originalFileName":{"type":"string"},"size":{"type":"integer","format":"int64"}}},"CommentGetDto":{"type":"object","properties":{"id":{"type":"string"},"content":{"type":"string"},"replies":{"type":"array","items":{"$ref":"#/components/schemas/ReplyGetDto"}}}},"ReplyGetDto":{"type":"object","properties":{"id":{"type":"string"},"content":{"type":"string"}}},"GoogleFileShortDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"}}},"AboutDto":{"type":"object","properties":{"emailAddress":{"type":"string"},"displayName":{"type":"string"},"photoLink":{"type":"string"},"storageLimit":{"type":"integer","format":"int64"},"storageUsageInDrive":{"type":"integer","format":"int64"},"storageUsageInDriveTrash":{"type":"integer","format":"int64"}}}},"securitySchemes":{"security_auth":{"type":"oauth2","flows":{"authorizationCode":{"authorizationUrl":"http://localhost:8080/api/drive/sign-in","tokenUrl":"http://localhost:8080/api/drive/oauth","scopes":{}}}}}}}