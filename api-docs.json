{"openapi":"3.0.1","info":{"title":"Drive API","version":"v1.0"},"servers":[{"url":"https://localhost:8080"}],"paths":{"/api/drive/sign-in":{"post":{"tags":["drive-controller"],"operationId":"googleSignIn","responses":{"200":{"description":"OK"}}}},"/api/drive/oauth":{"post":{"tags":["drive-controller"],"operationId":"saveAuthorizationCode","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/drive/files/{fileId}/permission/revoke/{permissionId}":{"post":{"tags":["drive-controller"],"operationId":"revokePermission","parameters":[{"name":"permissionId","in":"path","required":true,"schema":{"type":"string"}},{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/drive/files/{fileId}/permission/add":{"post":{"tags":["drive-controller"],"operationId":"addPermission","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionDto"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/upload":{"post":{"tags":["drive-controller"],"operationId":"uploadFiles","parameters":[{"name":"files","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"binary"}}},{"name":"targetFolderId","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string"}}}}}}}},"/api/drive/files/untrash":{"post":{"tags":["drive-controller"],"description":"Remove files from trash","operationId":"untrashFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/trash":{"post":{"tags":["drive-controller"],"description":"Add files to trash","operationId":"trashFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["drive-controller"],"description":"Delete all files from trash","operationId":"emptyTrash","responses":{"200":{"description":"OK"}}}},"/api/drive/files/delete":{"post":{"tags":["drive-controller"],"description":"Delete files completely","operationId":"deleteFiles","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/drive/files/create/folder":{"post":{"tags":["drive-controller"],"operationId":"createFolder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FolderDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/drive/files":{"get":{"tags":["drive-controller"],"operationId":"listFiles","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GoogleFileDto"}}}}}}}},"/api/drive/files/get/{fileId}":{"get":{"tags":["drive-controller"],"operationId":"getFile","parameters":[{"name":"fileId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GoogleFileShortDto"}}}}}}},"/api/drive/files/download":{"get":{"tags":["drive-controller"],"operationId":"downloadFiles","parameters":[{"name":"download","in":"query","required":true,"schema":{"type":"object","additionalProperties":{"type":"string"}},"example":{"fileId1":"absolutePath1","fileId2":"absolutePath2"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"PermissionDto":{"type":"object","properties":{"type":{"type":"string","enum":["user","group","domain","anyone"]},"role":{"type":"string","enum":["organizer","fileOrganizer","writer","commenter","reader"]}}},"FolderDto":{"type":"object","properties":{"targetFolderId":{"type":"string"},"folderName":{"type":"string"}}},"GoogleFileDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"},"createdTime":{"type":"string","format":"date-time"},"modifiedTime":{"type":"string","format":"date-time"},"permissionIds":{"type":"array","items":{"type":"string"}},"trashed":{"type":"boolean"},"size":{"type":"integer","format":"int64"},"parents":{"type":"array","items":{"type":"string"}}}},"GoogleFileShortDto":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"mimeType":{"type":"string"}}}},"securitySchemes":{"security_auth":{"type":"oauth2","flows":{"authorizationCode":{"authorizationUrl":"http://localhost:8080/api/drive/sign-in","tokenUrl":"http://localhost:8080/api/drive/oauth","scopes":{}}}}}}}